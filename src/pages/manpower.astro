---
import Layout from "@/layouts/Layout.astro";
import TabsOriginal from "@/components/TabsOriginal.vue";
import ClientsTab from "@/components/ClientsTab.vue";
import ContactTab from "@/components/ContactTab.vue";
import ServicesTab from "@/components/ServicesTab.vue";
import { ui, defaultLang } from "@/i18n/ui";
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

// Client Data
const clientData = t("manpower.clients" as any);
const workforceData = t("manpower.workforces" as any);
const contactData = t("manpower.contact" as any);

import Workforces from "@/components/Workforces.vue";

const galleryImages = [
  {
    src: "/assets/img/1.jpg",
    width: 1200,
    height: 800,
    alt: "Manpower Deployment 1",
  },
  {
    src: "/assets/img/2.jpg",
    width: 1200,
    height: 800,
    alt: "Manpower Deployment 1",
  },
  {
    src: "/assets/img/3.jpg",
    width: 1200,
    height: 800,
    alt: "Manpower Deployment 2",
  },
  {
    src: "/assets/img/4.jpg",
    width: 1200,
    height: 800,
    alt: "Manpower Training",
  },
  {
    src: "/assets/img/5.jpg",
    width: 1200,
    height: 800,
    alt: "Manpower Screening",
  },
  {
    src: "/assets/img/6.jpg",
    width: 1200,
    height: 800,
    alt: "Logistics Setup",
  },
  {
    src: "/assets/img/7.jpg",
    width: 1200,
    height: 800,
    alt: "On-site Management",
  },
  {
    src: "/assets/img/8.jpg",
    width: 1200,
    height: 800,
    alt: "Team Preparation",
  },
  {
    src: "/assets/img/9.jpg",
    width: 1200,
    height: 800,
    alt: "Global Recruitment",
  },
];

const demoTabs = [
  {
    label: t("manpower.tabs.services"),
    slug: "services",
    content: t("manpower.tabs.services.desc"),
  },
  {
    label: t("manpower.tabs.workforces"),
    slug: "workforces",
    content: t("manpower.tabs.workforces.desc"),
  },
  {
    label: t("manpower.tabs.clients"),
    slug: "clients",
    content: t("manpower.tabs.clients.desc"),
  },
  {
    label: t("manpower.tabs.contact"),
    slug: "contact",
    content: t("manpower.tabs.contact.desc"),
  },
];
---

<Layout>
  <div class="bg-base min-h-screen md:pt-8">
    <TabsOriginal tabs={demoTabs} client:load>
      <div slot="tab-0">
        <ServicesTab lang={lang} images={galleryImages} client:load />
      </div>
      <div slot="tab-1">
        <Workforces lang={lang} data={workforceData} client:load />
      </div>
      <div slot="tab-2">
        <ClientsTab lang={lang} countries={clientData} client:load />
      </div>
      <div slot="tab-3">
        <ContactTab lang={lang} data={contactData} client:load />
      </div>
    </TabsOriginal>
  </div>
</Layout>

<script>
  // This is to make sure galleryImages is available if needed in client-side script
  // But we actually defined it in the frontmatter above (planning to add it)
</script>
